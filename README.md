# DropPrintPanic

### Setup

Run `mix deps.get`

### Demo

Start with `iex -S mix` and run:
```elixir
DropPrintPanic.demo
```

### Sample output

```elixir
iex(1)> DropPrintPanic.demo
Running single_threaded_non_print_does_not_panic...
Finished single_threaded_non_print_does_not_panic
Running single_threaded_print_does_not_panic...
Finished single_threaded_print_does_not_panic
Running parallel_non_print_does_not_panic ...
Finished parallel_non_print_does_not_panic.
Running parallel_print_panics...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
This should cause a panic eventually...
T** (EXIT from #PID<0.176.0>) shell process exited with reason: an exception was raised:
    ** (ErlangError) Erlang error: :nif_panicked
        (drop_print_panic) DropPrintPanic.Native.panicker_name(%{__native__: #Reference<0.2415493244.2523267075.171844>, __struct__: DropPrintPanic.Panicker, _unconstructable: {}})
        (drop_print_panic) lib/drop_print_panic.ex:69: DropPrintPanic.ensure_name_is_binary/1
        (drop_print_panic) lib/drop_print_panic.ex:47: anonymous fn/4 in DropPrintPanic.ensure_name_is_binary_concurrently/2

Interactive Elixir (1.9.0) - press Ctrl+C to exit (type h() ENTER for help)
iex(1)> 
20:06:39.864 [error] Process #PID<0.280.0> raised an exception
** (ErlangError) Erlang error: :nif_panicked
    (drop_print_panic) DropPrintPanic.Native.panicker_name(%{__native__: #Reference<0.2415493244.2523267075.171844>, __struct__: DropPrintPanic.Panicker, _unconstructable: {}})
    (drop_print_panic) lib/drop_print_panic.ex:69: DropPrintPanic.ensure_name_is_binary/1
    (drop_print_panic) lib/drop_print_panic.ex:47: anonymous fn/4 in DropPrintPanic.ensure_name_is_binary_concurrently/2
 
```

